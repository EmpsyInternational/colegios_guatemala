"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5899],{5899:(T,u,r)=>{r.r(u),r.d(u,{DashboardPageModule:()=>R});var p=r(177),c=r(4341),l=r(4742),f=r(6755),n=r(3953),b=r(3656);class d extends Error{}d.prototype.name="InvalidTokenError";var x=r(1626),P=r(7669),h=r(467),O=r(5381);function k(t,a){if(1&t){const e=n.RV6();n.j41(0,"div",1)(1,"div",2)(2,"button",3),n.bIt("click",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.close())}),n.EFF(3,"\xd7"),n.k0s(),n.j41(4,"h2"),n.EFF(5,"Asistencias"),n.k0s(),n.j41(6,"form",4),n.nrm(7,"input",5)(8,"textarea",6),n.k0s(),n.j41(9,"div",7)(10,"button",8),n.bIt("click",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.close())}),n.EFF(11,"Cancelar"),n.k0s(),n.j41(12,"button",9),n.bIt("click",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.submit())}),n.EFF(13,"Guardar"),n.k0s()()()()}if(2&t){const e=n.XpG();n.R7$(6),n.Y8G("formGroup",e.formAsistencias)}}let v=(()=>{var t;class a{constructor(){this.isVisible=!1,this.closeModal=new n.bkB,this.asistenciasService=(0,n.WQX)(O.u),this.toastController=(0,n.WQX)(l.K_),this.fb=(0,n.WQX)(c.ok),this.generateForm()}generateForm(){this.formAsistencias=this.fb.group({presente:[""],titulo:[""]})}ngOnInit(){}toastMessage(o,i){var s=this;return(0,h.A)(function*(){yield(yield s.toastController.create({message:o,color:i,duration:2500,position:"top"})).present()})()}getCurrentDate(){const o=new Date;return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")} ${String(o.getHours()).padStart(2,"0")}:${String(o.getMinutes()).padStart(2,"0")}:${String(o.getSeconds()).padStart(2,"0")}`}submit(){var o=this;return(0,h.A)(function*(){var i,s;const g={id_alumno:o.information.alumnos[0].id_alumno,id_materia:o.information.materias[0].id_materia,presente:null===(i=o.formAsistencias.get("presente"))||void 0===i?void 0:i.value,fecha:o.getCurrentDate(),titulo:null===(s=o.formAsistencias.get("titulo"))||void 0===s?void 0:s.value};try{200===(yield o.asistenciasService.registerAsistencia(g)).code?(o.toastMessage("Asistencia registrada con exito","success"),setTimeout(()=>{window.location.reload()},3e3)):o.toastMessage("Ocurrio un error al registrar la asistencia","danger")}catch(m){console.error("Error al registrar la asistencia:",m)}})()}close(){this.closeModal.emit()}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["app-modal-asistencias"]],inputs:{isVisible:"isVisible",information:"information"},outputs:{closeModal:"closeModal"},decls:1,vars:1,consts:[["class","modal-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal-content"],[1,"close-btn",3,"click"],[3,"formGroup"],["type","text","formControlName","titulo","placeholder","Ingrese texto aqu\xed...",1,"modal-input"],["formControlName","presente","placeholder","Ingrese detalles...",1,"modal-textarea"],[1,"button-group"],[1,"submit-btn",3,"click"],[1,"submit-btn2",3,"click"]],template:function(o,i){1&o&&n.DNE(0,k,14,1,"div",0),2&o&&n.Y8G("ngIf",i.isVisible)},dependencies:[p.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;width:90%;max-width:500px;box-shadow:0 8px 16px #0003;position:relative;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:20px;color:#ff4b4b;cursor:pointer;transition:color .2s ease}.close-btn[_ngcontent-%COMP%]:hover{color:#d73838}h2[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:22px;margin-top:0;margin-bottom:20px;color:#333;text-align:center}.modal-input[_ngcontent-%COMP%], .modal-textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:4px;font-family:Arial,sans-serif;font-size:14px;color:#555;transition:border-color .2s ease;background:#f3f3f3}.modal-input[_ngcontent-%COMP%]:focus, .modal-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3631d3}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-top:20px}.submit-btn[_ngcontent-%COMP%], .submit-btn2[_ngcontent-%COMP%]{padding:12px 24px;border-radius:6px;font-size:14px;font-weight:700;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.submit-btn[_ngcontent-%COMP%]{background-color:#b9b9b9;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#a3a3a3;transform:translateY(-2px)}.submit-btn2[_ngcontent-%COMP%]{background-color:#3631d3;color:#fff;border:none}.submit-btn2[_ngcontent-%COMP%]:hover{background-color:#2a27aa;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}"]}),a})();function F(t,a){if(1&t&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&t){const e=a.$implicit;n.R7$(),n.SpI("Grado: ",e.nombre,"")}}function y(t,a){if(1&t&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&t){const e=a.$implicit;n.R7$(),n.SpI("Materia: ",e.nombre," ")}}function j(t,a){if(1&t&&(n.j41(0,"li"),n.EFF(1),n.k0s(),n.j41(2,"li"),n.EFF(3),n.k0s()),2&t){const e=a.$implicit;n.R7$(),n.SpI("Alumno: ",e.nombre+" "+e.apellido," "),n.R7$(2),n.SpI("Edad: ",e.edad,"")}}function w(t,a){if(1&t){const e=n.RV6();n.j41(0,"div",2)(1,"div",3)(2,"button",4),n.bIt("click",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.close())}),n.EFF(3,"\xd7"),n.k0s(),n.j41(4,"h2"),n.EFF(5,"Informaci\xf3n del alumno"),n.k0s(),n.j41(6,"ul")(7,"li"),n.EFF(8),n.k0s(),n.Z7z(9,F,2,1,"li",null,n.Vm6),n.Z7z(11,y,2,1,"li",null,n.Vm6),n.Z7z(13,j,4,2,null,null,n.Vm6),n.j41(15,"li"),n.EFF(16),n.k0s()(),n.j41(17,"div",5)(18,"button",6),n.bIt("click",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.close())}),n.EFF(19,"Cancelar"),n.k0s(),n.j41(20,"button",7),n.bIt("click",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.openModal())}),n.EFF(21,"Registrar asistencia"),n.k0s()()()()}if(2&t){const e=n.XpG();n.R7$(8),n.SpI("Profesor asignado: ",e.information.nombre," "),n.R7$(),n.Dyx(e.information.grados),n.R7$(2),n.Dyx(e.information.materias),n.R7$(2),n.Dyx(e.information.alumnos),n.R7$(3),n.SpI("Cantidad de asistencias: ",null==e.data?null:e.data.length," ")}}let I=(()=>{var t;class a{constructor(){this.isVisible=!1,this.closeModal=new n.bkB,this.http=(0,n.WQX)(x.Qq),this.showModal=!1}ngOnInit(){console.log("datos obtenidos",this.information),this.getAsistencias()}openModal(){this.showModal=!0}getAsistencias(){this.http.get(`${P.c.auth}/getAsistencias`).subscribe(o=>{this.data=o.data})}close(){this.closeModal.emit()}closeModall(){this.showModal=!1}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["app-modal-info"]],inputs:{isVisible:"isVisible",information:"information"},outputs:{closeModal:"closeModal"},decls:2,vars:3,consts:[["class","modal-overlay",4,"ngIf"],[3,"closeModal","isVisible","information"],[1,"modal-overlay"],[1,"modal-content"],[1,"close-btn",3,"click"],[1,"button-group"],[1,"submit-btn",3,"click"],[1,"submit-btn2",3,"click"]],template:function(o,i){1&o&&(n.DNE(0,w,22,2,"div",0),n.j41(1,"app-modal-asistencias",1),n.bIt("closeModal",function(){return i.closeModall()}),n.k0s()),2&o&&(n.Y8G("ngIf",i.isVisible),n.R7$(),n.Y8G("isVisible",i.showModal)("information",i.information))},dependencies:[p.bT,v],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}h2[_ngcontent-%COMP%]{font-family:SUSE,sans-serif;font-size:20px;margin-top:0;margin-bottom:20px;color:#424242;text-align:center}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{color:#000;font-family:OSWALD}.button-group[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center;gap:10px;padding:10px}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;position:relative;width:90%;max-width:400px;box-shadow:0 4px 8px #0003}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:24px;color:#df0000;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#b9b9b9;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;margin:10px}.submit-btn2[_ngcontent-%COMP%]{background-color:#3631d3;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;margin-top:10px}"]}),a})();function E(t,a){if(1&t){const e=n.RV6();n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td")(8,"a",20),n.bIt("click",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.modalOpen())}),n.EFF(9,"Ver"),n.k0s()()()}if(2&t){const e=a.$implicit;n.R7$(2),n.JRh(e.nombre),n.R7$(2),n.JRh(e.apellido),n.R7$(2),n.JRh(e.edad)}}function D(t,a){if(1&t&&(n.j41(0,"tr")(1,"th"),n.EFF(2),n.k0s()()),2&t){const e=a.$implicit;n.R7$(2),n.SpI(" \u2022 ",e.nombre," ")}}const $=[{path:"",component:(()=>{var t;class a{constructor(){this.showModal=!1,this.navCtrl=(0,n.WQX)(b.q9),this.getStorageData()}ngOnInit(){}routing(){this.navCtrl.navigateRoot("login"),localStorage.clear()}modalOpen(){this.showModal=!0}getStorageData(){const o=localStorage.getItem("authSession");if(o)try{const s=function C(t,a){if("string"!=typeof t)throw new d("Invalid token specified: must be a string");a||(a={});const e=!0===a.header?0:1,o=t.split(".")[e];if("string"!=typeof o)throw new d(`Invalid token specified: missing part #${e+1}`);let i;try{i=function M(t){let a=t.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function _(t){return decodeURIComponent(atob(t).replace(/(.)/g,(a,e)=>{let o=e.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(a)}catch{return atob(a)}}(o)}catch(s){throw new d(`Invalid token specified: invalid base64 for part #${e+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new d(`Invalid token specified: invalid json for part #${e+1} (${s.message})`)}}(JSON.parse(o).token);this.information=s,console.log(this.information)}catch(i){console.error("Error decoding token:",i),this.information=null}else console.warn("No authSession found in localStorage."),this.information=null}closeModal(){this.showModal=!1}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["app-dashboard"]],decls:77,vars:9,consts:[["id","main-content",1,"ion-page"],["slot","start"],["src","../../../assets/icon/transparent.png","alt","Logo",1,"imagen-icon"],["name","log-out-outline","slot","end",3,"click"],[1,"ion-padding"],[1,"container"],[1,"content"],[1,"cards"],[1,"card"],[1,"box"],[1,"icon-case"],["src","../../../assets/iconos-dashboard/students.png","alt",""],["src","../../../assets/iconos-dashboard/teachers.png","alt",""],["src","../../../assets/iconos-dashboard/schools.png","alt",""],[1,"content-2"],[1,"recent-payments"],[1,"title"],[4,"ngFor","ngForOf"],[1,"new-students"],[3,"closeModal","isVisible","information"],[1,"btn",3,"click"]],template:function(o,i){1&o&&(n.j41(0,"div",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-buttons",1),n.nrm(4,"ion-menu-button"),n.k0s(),n.nrm(5,"img",2),n.j41(6,"ion-icon",3),n.bIt("click",function(){return i.routing()}),n.k0s()()(),n.j41(7,"ion-content",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h1"),n.EFF(14),n.k0s(),n.j41(15,"h3"),n.EFF(16,"Estudiantes"),n.k0s()(),n.j41(17,"div",10),n.nrm(18,"img",11),n.k0s()(),n.j41(19,"div",8)(20,"div",9)(21,"h1"),n.EFF(22),n.k0s(),n.j41(23,"h3"),n.EFF(24,"Materias"),n.k0s()(),n.j41(25,"div",10),n.nrm(26,"img",12),n.k0s()(),n.j41(27,"div",8)(28,"div",9)(29,"h1"),n.EFF(30),n.k0s(),n.j41(31,"h3"),n.EFF(32,"Grados"),n.k0s()(),n.j41(33,"div",10),n.nrm(34,"img",13),n.k0s()()(),n.j41(35,"div",14)(36,"div",15)(37,"div",16)(38,"h2"),n.EFF(39,"Nomina de Estudiantes"),n.k0s()(),n.j41(40,"table")(41,"thead")(42,"tr")(43,"th"),n.EFF(44,"Nombre"),n.k0s(),n.j41(45,"th"),n.EFF(46,"Apellido"),n.k0s(),n.j41(47,"th"),n.EFF(48,"Edad"),n.k0s(),n.j41(49,"th"),n.EFF(50,"Opci\xf3n"),n.k0s()()(),n.j41(51,"tbody"),n.DNE(52,E,10,3,"tr",17),n.k0s()()(),n.j41(53,"div",18)(54,"div",16)(55,"h2"),n.EFF(56,"Datos del Profesor"),n.k0s()(),n.j41(57,"table")(58,"thead")(59,"tr")(60,"th"),n.EFF(61,"Nombre"),n.k0s(),n.j41(62,"th"),n.EFF(63,"Correo"),n.k0s()()(),n.j41(64,"tbody")(65,"td"),n.EFF(66),n.k0s(),n.j41(67,"td"),n.EFF(68),n.k0s()()()(),n.j41(69,"div",18)(70,"div",16)(71,"h2"),n.EFF(72,"Materias Instruidas"),n.k0s()(),n.j41(73,"table")(74,"thead"),n.DNE(75,D,3,1,"tr",17),n.k0s()()()()()(),n.j41(76,"app-modal-info",19),n.bIt("closeModal",function(){return i.closeModal()}),n.k0s()()()),2&o&&(n.R7$(14),n.JRh(i.information.alumnos.length),n.R7$(8),n.JRh(i.information.materias.length),n.R7$(8),n.JRh(i.information.grados.length),n.R7$(22),n.Y8G("ngForOf",i.information.alumnos),n.R7$(14),n.SpI(" ",i.information.nombre," "),n.R7$(2),n.SpI(" ",i.information.correo," "),n.R7$(7),n.Y8G("ngForOf",i.information.materias),n.R7$(),n.Y8G("isVisible",i.showModal)("information",i.information))},dependencies:[p.Sq,l.QW,l.W9,l.eU,l.iq,l.MC,l.ai,I],styles:["ion-content[_ngcontent-%COMP%]{--background: #f3f3f3 }ion-toolbar[_ngcontent-%COMP%]{--background:#c2c1c1}.body[_ngcontent-%COMP%]{min-height:100vh}a[_ngcontent-%COMP%]{text-decoration:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#444;font-family:Oswald}h3[_ngcontent-%COMP%]{color:#999;font-family:Oswald}.imagen-icon[_ngcontent-%COMP%]{padding:10px;width:200px;height:50px}.btn[_ngcontent-%COMP%]{background:#4635dc;color:#fff;padding:5px 10px;text-align:center;border-radius:5px}.btn[_ngcontent-%COMP%]:hover{background:#f05462;color:#f3f3f3;padding:3px 8px;border:2px solid #f05462}.title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;padding:15px 10px;border-bottom:2px solid #999;background:#b7b7b7}table[_ngcontent-%COMP%]{padding:10px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:left;padding:8px;color:#343333;font-family:SUSE}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:250px;height:150px;background:#fff;margin:20px 10px;display:flex;align-items:center;justify-content:space-around;box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-2[_ngcontent-%COMP%]{min-height:60vh;display:flex;justify-content:space-around;align-items:flex-start;flex-wrap:wrap}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-2[_ngcontent-%COMP%]   .recent-payments[_ngcontent-%COMP%]{min-height:50vh;flex:5;background:#fff;margin:0 25px 25px;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-2[_ngcontent-%COMP%]   .new-students[_ngcontent-%COMP%]{flex:2;background:#fff;min-height:50vh;margin:0 25px;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-2[_ngcontent-%COMP%]   .new-students[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1)   img[_ngcontent-%COMP%]{height:40px;width:40px}ion-icon[_ngcontent-%COMP%]{font-size:24px;margin:0;padding:20px}@media screen and (max-width: 1050px){.side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:18px}}@media screen and (max-width: 940px){.side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.side-menu[_ngcontent-%COMP%]{align-items:center}.side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f05462;padding:8px 38px;border:2px solid white}}@media screen and (max-width: 536px){.brand-name[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{justify-content:center}.side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-2[_ngcontent-%COMP%]   .recent-payments[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-2[_ngcontent-%COMP%]   .recent-payments[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){display:none}}"]}),a})()}];let S=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[f.iI.forChild($),f.iI]}),a})(),R=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[p.MD,c.YN,l.bv,S,c.X1]}),a})()}}]);